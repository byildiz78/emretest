Detail|
SELECT SUM(OrderTransactions.extendedPrice) AS Ciro,SUM(OrderTransactions.Quantity * GlobalMenuItems.MenuItemCost) AS 
       Maliyet,CONVERT(VARCHAR, OrderHeaders.OrderDateTime, 103) AS Tarih
FROM GlobalMenuItems 
RIGHT OUTER JOIN OrderTransactions ON  GlobalMenuItems.MenuItemKey=OrderTransactions.MenuItemKey AND OrderTransactions.BranchID = GlobalMenuItems.BranchID
LEFT OUTER JOIN OrderHeaders ON OrderTransactions.OrderKey = OrderHeaders.OrderKey AND OrderHeaders.BranchID = GlobalMenuItems.BranchID
WHERE  OrderHeaders.LineDeleted = 0
  AND OrderTransactions.LineDeleted = 0
  AND OrderHeaders.OrderDateTime >= @date1
  AND OrderHeaders.OrderDateTime <= @date2
  AND GlobalMenuItems.@BranchID
GROUP BY CONVERT(VARCHAR, OrderHeaders.OrderDateTime, 103)
ORDER BY CONVERT(VARCHAR, OrderHeaders.OrderDateTime, 103) ASC