

SELECT 
       efr_Branchs.BranchName           AS [Şube Adı],
       SUM(BonusTransactions.BonusEarned)   AS [Kazanılan PUAN TUTARI],
       SUM(BonusTransactions.BonusUsed)      AS [Kullanılan TOPLAM PUAN TUTARI],
       SUM(BonusTransactions.BonusEarned)-  SUM(BonusTransactions.BonusUsed)   AS [KALAN PUAN TUTARI]
       
FROM   BonusTransactions
       RIGHT OUTER JOIN efr_Branchs
            ON  BonusTransactions.BranchID = efr_Branchs.BranchID
  
WHERE 
        BonusTransactions.LineDeleted = 0
       AND BonusTransactions.OrderDateTime >= @date1
       AND BonusTransactions.OrderDateTime <= @date2
      -- AND BonusTransactions.@BranchID
       
GROUP BY
 efr_Branchs.BranchName