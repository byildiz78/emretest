Detail|
SELECT OrderHeaders.OrderID AS ÇEKNO,
       OrderHeaders.OrderDateTime AS TARİH,
       CASE OrderHeaders.OrderType
            WHEN '1' THEN 'MASA SERVIS'
            WHEN '2' THEN 'İSME ÇEK'
            WHEN '3' THEN 'AL GÖTÜR'
            WHEN '4' THEN 'TEZGAH'
            WHEN '5' THEN 'PAKET SERVIS'
            ELSE 'TANIMSIZ'
       END AS 'Satış Türü',
       OrderHeaders.DriverDepartureTime AS ÇIKIŞ,
       OrderHeaders.DriverArrivalTime AS VARIŞ,
       EmployeeFiles_1.FirstName AS [PAKETÇİ ADI],
       EmployeeFiles_1.LastName AS [PAKETÇİ SOYADI],
       OrderHeaders.AmountDue AS TOPLAM,
       OrderTransactions.MenuItemText AS ÜRÜN,
       OrderTransactions.Quantity AS ADET,
       OrderTransactions.MenuItemUnitPrice AS [BİRİM FİYAT],
       OrderTransactions.ExtendedPrice AS [SATIR TOPLAMI],
       OrderHeaders.OrderPhone AS Telefon,
       OrderHeaders.SpecificCustomerName AS Kontak,
       OrderHeaders.CustomerName AS [Müşteri Adı],
       OrderPayments.PaymentMethodName,
       OrderTransactions.TransactionDateTime AS [SATIR SAATİ],
       OrderTransactions.LineDeleted AS [SATIR SİLİNDİ],
       OrderTransactions.DeleteReason AS [SATIR SEBEP],
       OrderTransactions.DiscountLineAmount AS [SATIR İNDİRİM],
       OrderTransactions.DiscountCashAmount AS [SATIR NAKİT İNDİRİM],
       OrderTransactions.DiscountTotalAmount AS [SATIR TOPLAM İNDİRİM],
       OrderHeaders.DiscountOrderAmount AS [ÇEK İNDİRİM],
       OrderHeaders.DiscountCashAmount AS [ÇEK NAKİT İNDİRİM],
       OrderHeaders.DiscountTotalAmount AS [TOPLAM İNDİRİM],
       OrderHeaders.GuestNumber as [Konuk Sayısı],
       OrderPayments.AmountPaid,
       Discounts.DiscountText AS [çek indirim adı],
       Discounts_1.DiscountText AS [Satır İndirim Adı],
    
       EmployeeFiles_2.FirstName AS [satır personel],
       OrderHeaders.AddUserName AS [ÇEK PERSONEL]
FROM   Discounts AS Discounts_1
       RIGHT OUTER JOIN EmployeeFiles AS EmployeeFiles_2
       RIGHT OUTER JOIN OrderTransactions
            ON  EmployeeFiles_2.EmployeeID = OrderTransactions.AddUserID
            ON  Discounts_1.DiscountID = OrderTransactions.DiscountID
       RIGHT OUTER JOIN OrderHeaders
       LEFT OUTER JOIN Discounts
            ON  OrderHeaders.DiscountID = Discounts.DiscountID
       LEFT OUTER JOIN EmployeeFiles AS EmployeeFiles_1
            ON  OrderHeaders.DriverEmployeeID = EmployeeFiles_1.EmployeeID
            ON  OrderTransactions.OrderKey = OrderHeaders.OrderKey
       LEFT OUTER JOIN OrderPayments
            ON  OrderHeaders.OrderKey = OrderPayments.OrderKey
WHERE   orderheaders.orderID in (select orderID from Ordertransactions 
where OrderDateTime>=@date1 AND OrderHeaders.OrderDateTime<=@date2 and linedeleted=1 ) AND OrderHeaders.@BranchID and EmployeeFiles_1.@BranchID and EmployeeFiles_2.@BranchID and OrderTransactions.@BranchID and OrderPayments.@BranchID


$void|select sum(ordertransactions.extendedprice) from ordertransactions

where ordertransactions.OrderDateTime>=@date1 AND ordertransactions.OrderDateTime<=@date2 and ordertransactions.linedeleted=1 and ordertransactions.@BranchID