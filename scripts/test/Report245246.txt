SELECT BonusTransactions.CustomerName   AS Müşteri,
       BonusTransactions.OrderDateTime  AS [İşlem Tarihi],
      -- OrderHeaders.OrderID             AS [Çek No],
       BonusTransactions.AmountDue      AS [Çek Tutarı],
       BonusTransactions.BonusUsed      AS [Kullanılan Puan],
       BonusTransactions.BonusEarned    AS [Kazanılan Puan],
       efr_Branchs.BranchName           AS [Şube Adı]
FROM   BonusTransactions
       RIGHT OUTER JOIN efr_Branchs
            ON  BonusTransactions.BranchID = efr_Branchs.BranchID
     --  LEFT OUTER JOIN OrderHeaders
          --  ON  BonusTransactions.OrderKey = OrderHeaders.OrderKey
WHERE 
        BonusTransactions.LineDeleted = 0

 -- AND OrderHeaders.LineDeleted =0
       AND BonusTransactions.OrderDateTime >= @date1
       AND BonusTransactions.OrderDateTime <= @date2
       AND BonusTransactions.@BranchID