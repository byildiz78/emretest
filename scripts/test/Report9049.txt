Detail|SELECT 'Açık Çekler' AS Tipi ,SUM(AmountDue) AS Tutar FROM OrderHeaders WHERE OrderStatus=1 AND LineDeleted=0 AND orderdateTime>@ilkTarih AND OrderDateTime<=@SonTarih AND OrderHeaders.@BranchID
UNION ALL

SELECT 'Kapalı Çekler' AS Tipi, SUM(AmountDue) AS Tutar FROM OrderHeaders WHERE OrderStatus=2 AND LineDeleted=0 AND orderdateTime>@ilkTarih AND OrderDateTime<=@SonTarih AND OrderHeaders.@BranchID

UNION ALL

SELECT 'Toplam Ciro' as Tipi, SUM(AmountDue) AS Tutar FROM OrderHeaders WHERE OrderStatus IN(1,2) AND LineDeleted=0 AND orderdateTime>@ilkTarih AND OrderDateTime<=@SonTarih AND OrderHeaders.@BranchID

$INDIRIMLER|
SELECT SUM(r.[Brüt Satışlar]) AS [Brüt Satışlar],
       SUM(r.[Ürün İndirimleri]) AS [Ürün İndirimleri],
       SUM(r.[Nakit İndirimler]) AS [Nakit İndirimler],
       SUM(r.[Çek İndirimler]) AS [Çek İndirimler],
       SUM(r.[Toplam Indirimler]) AS [Toplam Indirimler],
       SUM(r.[Net Satışlar]) AS [Net Satışlar],
       COUNT(r.[Toplam Çek Sayısı]) AS [Toplam Çek Sayısı],
       SUM(r.[Toplam Konuk]) AS [Toplam Konuk],
       SUM(r.[Net Satışlar]) / NULLIF(SUM(r.[Toplam Konuk]), 0) AS 
       [Kişi Başı Ortalama],
       SUM(r.[Net Satışlar]) / NULLIF(COUNT(r.[Toplam Çek Sayısı]), 0) AS 
       [Çek Ortalama],
       r.GUN
FROM   (
           SELECT h.amountdue + h.discountTotalAmount AS [Brüt Satışlar],
                  h.DiscountLineAmount AS [Ürün İndirimleri],
                  h.DiscountCashAmount AS [Nakit İndirimler],
                  h.DiscountOrderAmount AS [Çek İndirimler],
                  h.DiscountTotalAmount AS [Toplam Indirimler],
                  h.amountdue AS [Net Satışlar],
                  h.OrderID AS [Toplam Çek Sayısı],
                  h.GuestNumber AS [Toplam Konuk],
                  h.amountdue / ISNULL(h.GuestNumber, 1) AS [Kişi Başı Ortalama],
                  h.amountdue / ISNULL(h.orderID, 1) AS [Çek Ortalama],
                  CONVERT(VARCHAR, h.OrderDateTime, 103) AS GUN,
                  h.amountdue AS [GÜNLÜK TUTAR]
           FROM   OrderHeaders h
           WHERE  h.LineDeleted = 0
                 AND h.OrderDateTime >= @ilkTarih
                  AND h.OrderDateTime <= @SonTarih and  h.@BranchID
       ) AS r
GROUP BY
       r.GUN

$GRUPSATISDAGILIMI|

SELECT t.MenuItemText AS [Ürün],
       SUM(t.Quantity) AS Adet,
       SUM(t.ExtendedPrice) AS Tutar,
              t.MenuItemGroupText AS Grup,
       t.MenumItemCategoryText AS Kategori

FROM  OrderTransactions  t
       
WHERE  t.LineDeleted = 0
      
  AND t.OrderDateTime >= @ilkTarih
   AND t.OrderDateTime <= @SonTarih
   and  t.@BranchID
GROUP BY
       MenuItemText,
      
       t.ExtendedPrice,
       t.Quantity,
       t.MenuItemGroupText,
       t.MenumItemCategoryText
       
       ORDER BY  SUM(t.ExtendedPrice) DESC

$ODEMEDAGILIMI|SELECT    SUM( AmountPaid) AS GenelTOPLAM, PaymentMethodName
FROM         OrderPayments


WHERE  orderpayments.PaymentDateTime >= @ilkTarih
       AND orderpayments.PaymentDateTime <= @SonTarih
       AND OrderPayments.LineDeleted = 0
	   and OrderPayments.@BranchID
      
GROUP BY PaymentMethodName


$IPTALTOPLAMLARI|SELECT 
       SUM(OrderTransactions.ExtendedPrice)
      
FROM   OrderTransactions
       INNER JOIN OrderHeaders
            ON  OrderTransactions.OrderKey = OrderHeaders.OrderKey
WHERE  OrderTransactions.OrderDateTime >= @ilkTarih
    AND OrderTransactions.OrderDateTime <= @SonTarih
    AND
   OrderTransactions.linedeleted = 1
   and OrderTransactions.@BranchID