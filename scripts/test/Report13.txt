
SELECT COUNT(etc.WorkDate)      AS x,
       etc.WorkDate             AS TARIH,
       CONVERT(VARCHAR, etc.ClockInTime, 108) AS GIRIS,
       CONVERT(VARCHAR, etc.ClockOutTime, 108) AS CIKIS,
       EmployeeFiles.FirstName  AS ADI,
       EmployeeFiles.LastName   AS SOYADI,
       etc.ClockInTime          AS Giriş,
       efr_Branchs.BranchName   AS [Şube Adı]
FROM   EmployeeTimeCards        AS etc
       INNER JOIN efr_Branchs
            ON  etc.BranchID = efr_Branchs.BranchID
       LEFT OUTER JOIN EmployeeFiles
            ON  etc.EmployeeID = EmployeeFiles.EmployeeID
            AND etc.BranchID = EmployeeFiles.BranchID



     WHERE etc.ClockInTime>=@date1 AND etc.ClockInTime<=@date2 and etc.@BranchID AND EmployeeFiles.@BranchID
        

GROUP BY
       etc.TimeCardKey,
       etc.WorkDate,
       etc.ClockInTime,
       etc.ClockOutTime,
       EmployeeFiles.FirstName,
       EmployeeFiles.LastName,
       efr_Branchs.BranchName
      


